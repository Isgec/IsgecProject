/*******01/11/2011  Laxman*************/
ALTER TABLE CIR_AGMAST ADD (AGEING_TYPE VARCHAR2(1), LABEL_TYPE VARCHAR2(1) DEFAULT 'I',
H_ADDR1               VARCHAR2(50),H_ADDR2            VARCHAR2(50),H_ADDR3     VARCHAR2(50),
H_CITY_CODE           VARCHAR2(8), H_TEHSIL_TALUKA    VARCHAR2(8),H_DIST_CODE  VARCHAR2(8),
H_STATE_CODE          VARCHAR2(8),H_COUNTRY_CODE      VARCHAR2(8),H_PIN_CODE   VARCHAR2(8),
H_PHONE_NO1          VARCHAR2(25),H_PHONE_NO2       VARCHAR2(25),
H_MOBILE_NO1          NUMBER(10), H_MOBILE_NO2        NUMBER(10),H_EMAIL_ID    VARCHAR2(50));
ALTER TABLE CIR_AGMAST_DIS ADD (AGEING_TYPE VARCHAR2(1), LABEL_TYPE VARCHAR2(1) DEFAULT 'I',
H_ADDR1               VARCHAR2(50),H_ADDR2            VARCHAR2(50),H_ADDR3     VARCHAR2(50),
H_CITY_CODE           VARCHAR2(8), H_TEHSIL_TALUKA    VARCHAR2(8),H_DIST_CODE  VARCHAR2(8),
H_STATE_CODE          VARCHAR2(8),H_COUNTRY_CODE      VARCHAR2(8),H_PIN_CODE   VARCHAR2(8),
H_PHONE_NO1          VARCHAR2(25),H_PHONE_NO2       VARCHAR2(25),
H_MOBILE_NO1          NUMBER(10), H_MOBILE_NO2        NUMBER(10),H_EMAIL_ID    VARCHAR2(50));
ALTER TABLE CIR_AG_CON_PER ADD (RACE_CODE    VARCHAR2(20),NEW_IC_NO VARCHAR2(20),OLD_IC_NO VARCHAR2(20));
ALTER TABLE CIR_AG_CON_PER_DIS ADD (RACE_CODE    VARCHAR2(20),NEW_IC_NO VARCHAR2(20),OLD_IC_NO VARCHAR2(20));
ALTER TABLE CIR_SUPPLY ADD (BILLING_CYCLE    VARCHAR2(1) DEFAULT 'M',INSERTION_FEE VARCHAR2(1) DEFAULT 'N');
ALTER TABLE CIR_SUPPLY_DIS ADD (BILLING_CYCLE    VARCHAR2(1) DEFAULT 'M',INSERTION_FEE VARCHAR2(1) DEFAULT 'N');
CREATE TABLE CIR_BANK_GUARANTEE
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 BG_NO          NUMBER(8)       NOT NULL,
 BG_AMT         NUMBER(12,2)    ,
 BG_DATE        DATE            NOT NULL,
 BG_VALID       DATE            NOT NULL,
 BANK_DESC      VARCHAR2(50)    NOT NULL,
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 BKUP_SNO       NUMBER(30),
 BG_TYPE 		VARCHAR2(2) DEFAULT 'BG',
 CONSTRAINT CIR_BANK_GUARANTEE_PK PRIMARY KEY(COMP_CODE,UNIT_CODE,AGCD,DPCD,BG_NO),
 CONSTRAINT CIR_BANK_GUARANTEE_UK UNIQUE (BKUP_SNO),
 CONSTRAINT CIR_BANK_GUARANTEE_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
 REFERENCES CIR_AGMAST (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE);
 
CREATE TABLE CIR_BANK_GUARANTEE_DIS
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 BG_NO          NUMBER(8)       NOT NULL,
 BG_AMT         NUMBER(12,2)    ,
 BG_DATE        DATE            NOT NULL,
 BG_VALID       DATE            NOT NULL,
 BANK_DESC      VARCHAR2(50)    NOT NULL,
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 BKUP_SNO       NUMBER(30),
 BG_TYPE 		VARCHAR2(2) DEFAULT 'BG',
 CONSTRAINT CIR_BANK_GUARANTEE_DIS_PK PRIMARY KEY(COMP_CODE,UNIT_CODE,AGCD,DPCD,BG_NO),
 CONSTRAINT CIR_BANK_GUARANTEE_DIS_UK UNIQUE (BKUP_SNO), 
 CONSTRAINT CIR_BANK_GUARANTEE_DIS_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST_DIS (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE);
 
CREATE TABLE CIR_OVERDUE_MAST
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 BILL_CYCLE     VARCHAR2(1)     NOT NULL,
 PUBL_CODE      VARCHAR2(8)     NOT NULL,
 CREDIT_DAYS    NUMBER(8)       NOT NULL,
 CREDIT_LIMIT   NUMBER(12)      NOT NULL,
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 BKUP_SNO       NUMBER(30),
 CONSTRAINT CIR_OVERDUE_MAST_PK PRIMARY KEY(COMP_CODE,BILL_CYCLE,PUBL_CODE),
 CONSTRAINT CIR_OVERDUE_MAST_UK UNIQUE (BKUP_SNO));

ALTER TABLE CIR_HOLIDAY_MAST ADD STATE_CODE VARCHAR2(8);
ALTER TABLE FA_VCH_MST ADD CANCEL_AMOUNT NUMBER(14,2);
ALTER TABLE CIR_EDTN_MAST ADD(DIS_AGCD  VARCHAR2(8),DIS_DPCD  VARCHAR2(8));
ALTER TABLE CIR_EDTN_MAST ADD(reg_no  VARCHAR2(20));
ALTER TABLE PREFERRENCES ADD(CIR_DIS_AUTO_POSTING VARCHAR2(1) DEFAULT 'N');
ALTER TABLE CIR_TRANSPORTER_MAST MODIFY(PHONE_NO NUMBER(12),MOBILE_NO NUMBER(12),PHONE_NO2 NUMBER(12));
ALTER TABLE CIR_ROUTE_TAXI_MAST MODIFY(ACT_DIST NUMBER(5));
ALTER TABLE CIR_UNSOLD_RETURN_CONTROL 
ADD(UNIT_CODE VARCHAR2(20),BRANCH_CODE VARCHAR2(20),REG_CODE VARCHAR2(20),EDTN_CODE   VARCHAR2(20),PERM_PER NUMBER(5))
ALTER TABLE CIR_EXPENSES_DETAIL ADD(PUBL_CODE       VARCHAR2(3),EDTN_CODE   VARCHAR2(3),SUPPLY_TYPE VARCHAR2(4));
ALTER TABLE CIR_EXPENSES_DETAIL DROP CONSTRAINT CIR_EXPENSES_DETAIL;
DROP INDEX CIR_EXPENSES_DETAIL;
ALTER TABLE CIR_EXPENSES_DETAIL ADD 
CONSTRAINT CIR_EXPENSES_DETAIL_UK UNIQUE (COMP_CODE, UNIT, AGCD, DPCD, EXP_TYPE_CODE,PUBL_CODE,EDTN_CODE,SUPPLY_TYPE)
CREATE TABLE cir_SELECT_TABLE
( TABLE_NAME    VARCHAR2(100),
  TABLE_DESC    VARCHAR2(200),
  FLAG          VARCHAR2(1)                DEFAULT 'Y',
  SEQ_NO        NUMBER                          NOT NULL,
  ORDER_SEQ_NO  NUMBER,
  CONSTRAINT cir_SELECT_TABLE_PK PRIMARY KEY (SEQ_NO));
 
CREATE TABLE CIR_SELECT_TABLE_COL
( TABLE_SEQ_NO  NUMBER,
  TABLE_NAME    VARCHAR2(100),
  COL           VARCHAR2(100),
  COL_DES       VARCHAR2(200),
  FLAG          VARCHAR2(1)                DEFAULT 'Y',
  ORDER_SEQ_NO  NUMBER);
  
CREATE TABLE CIR_SELECT_TABLE_FILTER
( TABLE_SEQ_NO  NUMBER                          NOT NULL,
  TABLE_NAME    VARCHAR2(100)              NOT NULL,
  COL           VARCHAR2(100)              NOT NULL,
  COL_DES       VARCHAR2(200)              NOT NULL,
  FLAG          VARCHAR2(1)                DEFAULT 'Y'                   NOT NULL,
  DATA_TYPE     VARCHAR2(10)              NOT NULL,
  ORDER_SEQ_NO  NUMBER                          NOT NULL,
  CONSTRAINT CIR_SELECT_TABLE_FILTER_PK PRIMARY KEY (TABLE_SEQ_NO, TABLE_NAME, COL));
CREATE TABLE CIR_AGEING_SLAB_MAST
( COMP_CODE    VARCHAR2(8)                 NOT NULL,
  AGEING_TYPE  VARCHAR2(1)                 DEFAULT 'M',
  PRO_TYPE     VARCHAR2(10)                NOT NULL,
  SLAB_FROM1   NUMBER(5)                        NOT NULL,
  SLAB_TILL1   NUMBER(5)                        NOT NULL,
  SLAB_FROM2   NUMBER(5)                        NOT NULL,
  SLAB_TILL2   NUMBER(5)                        NOT NULL,
  SLAB_FROM3   NUMBER(5)                        NOT NULL,
  SLAB_TILL3   NUMBER(5)                        NOT NULL,
  SLAB_FROM4   NUMBER(5)                        NOT NULL,
  SLAB_TILL4   NUMBER(5)                        NOT NULL,
  SLAB_FROM5   NUMBER(5)                        NOT NULL,
  SLAB_TILL5   NUMBER(5)                        NOT NULL,
  SLAB_FROM6   NUMBER(5)                        NOT NULL,
  SLAB_TILL6   NUMBER(5)                        NOT NULL,
  CREATED_BY   VARCHAR2(30),
  CREATED_DT   DATE                             DEFAULT SYSDATE,
  UPDATED_BY   VARCHAR2(30),
  UPDATED_DT   DATE,
 CONSTRAINT CIR_AGEING_SLAB_MAST_PK PRIMARY KEY (COMP_CODE, AGEING_TYPE, PRO_TYPE);
/***************************2-nov-2011 Laxman*********************/
ALTER TABLE RETAIN_COMM_SLAB ADD COMM_TARGET_ID NUMBER(10);

CREATE TABLE RETAIN_COMM_TARGET
(COMP_CODE      VARCHAR2(8) NOT NULL,
 RETAIN_CODE    VARCHAR2(8) NOT NULL,
 TEAM_CODE      VARCHAR2(8),
 ADCTG_CODE     VARCHAR2(8),
 FROM_TGT       NUMBER(5,2),
 TO_TGT         NUMBER(5,2),
 CUST_TYPE      VARCHAR2(10),
 AD_TYPE        VARCHAR2(8),
 PUB_TYPE       VARCHAR2(8),
 PUBL_CODE      VARCHAR2(200),
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 COMM_TARGET_ID NUMBER(10) NOT NULL,
 CONSTRAINT RETAIN_COMM_TARGET_PK PRIMARY KEY (COMP_CODE, RETAIN_CODE,COMM_TARGET_ID))

CREATE TABLE RETAIN_ADCOMM_TARGET
(COMP_CODE      VARCHAR2(8) NOT NULL,
 RETAIN_CODE    VARCHAR2(8) NOT NULL,
 COMM_TARGET_ID NUMBER(10)  NOT NULL,
 PUBL_CODE      VARCHAR2(200),
 NO_OF_PUBL     NUMBER(3),
 ADCOMM_PER     NUMBER(12,2),
 COMM_TYPE      VARCHAR2(1) DEFAULT 'P',
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT RETAIN_ADCOMM_TARGET_PK PRIMARY KEY (COMP_CODE, RETAIN_CODE,COMM_TARGET_ID))

 
/*****************************4-Nov-2011 Laxman**************************/
CREATE TABLE CIR_AGENCY_REMARK
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 RMRK_TYPE      VARCHAR2(1)     NOT NULL,
 EFFECTIVE_FROM DATE            NOT NULL,
 RMRK           VARCHAR2(100)   NOT NULL,
 CREATE_BY      VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT CIR_AGENCY_REMARK_PK PRIMARY KEY (COMP_CODE, UNIT_CODE,AGCD,DPCD,RMRK_TYPE,EFFECTIVE_FROM));
 
 CREATE TABLE CIR_AGENCY_REMARK_DIS
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 RMRK_TYPE      VARCHAR2(1)     NOT NULL,
 EFFECTIVE_FROM DATE            NOT NULL,
 RMRK           VARCHAR2(100)   NOT NULL,
 CREATE_BY      VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT CIR_AGENCY_REMARK_DIS_PK PRIMARY KEY (COMP_CODE, UNIT_CODE,AGCD,DPCD,RMRK_TYPE,EFFECTIVE_FROM));
 
 CREATE TABLE CIR_AGENCY_CREDIT
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 PUBL_CODE      VARCHAR2(5)     NOT NULL,
 CREDIT_DAYS    NUMBER(7)       NOT NULL,
 CREDIT_LIMIT   NUMBER(12)      NOT NULL,
 CREATE_BY      VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT CIR_AGENCY_CREDIT_PK PRIMARY KEY (COMP_CODE, UNIT_CODE,AGCD,DPCD,PUBL_CODE,CREDIT_DAYS,CREDIT_LIMIT));
 
CREATE TABLE CIR_AGENCY_CREDIT_DIS
(COMP_CODE      VARCHAR2(8)     NOT NULL,
 UNIT_CODE      VARCHAR2(8)     NOT NULL,
 AGCD           VARCHAR2(8)     NOT NULL,
 DPCD           VARCHAR2(8)     NOT NULL,
 PUBL_CODE      VARCHAR2(5)     NOT NULL,
 CREDIT_DAYS    NUMBER(7)       NOT NULL,
 CREDIT_LIMIT   NUMBER(12)      NOT NULL,
 CREATE_BY      VARCHAR2(30),
 CREATED_DT     DATE        DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT CIR_AGENCY_CREDIT_DIS_PK PRIMARY KEY (COMP_CODE, UNIT_CODE,AGCD,DPCD,PUBL_CODE,CREDIT_DAYS,CREDIT_LIMIT)); 
/****************************7-NOV-2011 Laxman*******************************/
CREATE TABLE CIR_FESTIVAL_MAST
(FEST_CODE      NUMBER(5),
 FEST_NAME      VARCHAR2(50),
 CREATED_BY     VARCHAR2(30),
 CREATED_DT     DATE DEFAULT SYSDATE,
 UPDATED_BY     VARCHAR2(30),
 UPDATED_DT     DATE,
 CONSTRAINT CIR_FESTIVAL_MAST_PK PRIMARY KEY (FEST_CODE));

CREATE TABLE CIR_AGENCY_FESTIVAL
( COMP_CODE       VARCHAR2(8)       NOT NULL,
  UNIT_CODE       VARCHAR2(8)       NOT NULL,
  AGCD            VARCHAR2(8)       NOT NULL,
  DPCD            VARCHAR2(8)       NOT NULL,
  FEST_CODE       NUMBER(5)         NOT NULL,
  CREATE_BY       VARCHAR2(30),
  CREATED_DT      DATE           DEFAULT SYSDATE,
  UPDATED_BY      VARCHAR2(30),
  UPDATED_DT      DATE,
  CONSTRAINT CIR_AGENCY_FESTIVAL_PK PRIMARY KEY(COMP_CODE, UNIT_CODE, AGCD, DPCD,FEST_CODE),
  CONSTRAINT CIR_AGENCY_FESTIVAL_FK FOREIGN KEY (FEST_CODE) 
  REFERENCES CIR_FESTIVAL_MAST (FEST_CODE),
  CONSTRAINT CIR_AGENCY_FESTI_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
  REFERENCES CIR_AGMAST (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE)

CREATE TABLE CIR_AGENCY_FESTIVAL_DIS
( COMP_CODE       VARCHAR2(8)       NOT NULL,
  UNIT_CODE       VARCHAR2(8)       NOT NULL,
  AGCD            VARCHAR2(8)       NOT NULL,
  DPCD            VARCHAR2(8)       NOT NULL,
  FEST_CODE       NUMBER(5)         NOT NULL,
  CREATE_BY       VARCHAR2(30),
  CREATED_DT      DATE           DEFAULT SYSDATE,
  UPDATED_BY      VARCHAR2(30),
  UPDATED_DT      DATE,
  CONSTRAINT CIR_AGENCY_FESTIVAL_DIS_PK PRIMARY KEY(COMP_CODE, UNIT_CODE, AGCD, DPCD,FEST_CODE),
  CONSTRAINT CIR_AGENCY_FESTIVAL_DIS_FK FOREIGN KEY (FEST_CODE) 
  REFERENCES CIR_FESTIVAL_MAST (FEST_CODE),
  CONSTRAINT CIR_AGENCY_FESTI_DIS_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
  REFERENCES CIR_AGMAST_DIS (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE)  
 
ALTER TABLE CIR_AGENCY_REMARK ADD CONSTRAINT CIR_AGENCY_REMARK_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE;

ALTER TABLE CIR_AGENCY_REMARK_DIS ADD CONSTRAINT CIR_AGENCY_REMARK_DIS_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST_DIS (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE;

ALTER TABLE CIR_AGENCY_CREDIT ADD CONSTRAINT CIR_AGENCY_CREDIT_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE;

ALTER TABLE CIR_AGENCY_CREDIT_DIS ADD CONSTRAINT CIR_AGENCY_CREDIT_DIS_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST_DIS (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE;

ALTER TABLE CIR_AGENCY_PAYMODE ADD CONSTRAINT CIR_AGENCY_PAYMODE_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE;

CREATE TABLE CIR_AGENCY_PAYMODE_DIS
( COMP_CODE       VARCHAR2(10),
  UNIT_CODE       VARCHAR2(10),
  AGCD            VARCHAR2(10),
  DPCD            VARCHAR2(10),
  PAYMODE         VARCHAR2(10),
  PAYMODE_ACTIVE  VARCHAR2(1)              DEFAULT 'Y',
  CREATED_BY      VARCHAR2(30),
  CREATED_DT      DATE                     DEFAULT SYSDATE,
  UPDATED_BY      VARCHAR2(30),
  UPDATED_DT      DATE,
  BKUP_SNO        NUMBER(30),
  CONSTRAINT CIR_AGENCY_PAYMODE_DIS_PK PRIMARY KEY (COMP_CODE, UNIT_CODE, AGCD, DPCD, PAYMODE));
  
ALTER TABLE CIR_AGENCY_PAYMODE_DIS ADD CONSTRAINT CIR_AGENCY_PAYMODE_DIS_FK FOREIGN KEY (COMP_CODE,UNIT_CODE,AGCD,DPCD) 
REFERENCES CIR_AGMAST_DIS (COMP_CODE,UNIT,AGCD,DPCD) ON DELETE CASCADE

ALTER TABLE CIR_TAXI_ROUTE ADD DROP_POINT_SEQNO NUMBER(5);
ALTER TABLE CIR_TAXI_ROUTE DROP COLUMN LATITUDE;
ALTER TABLE CIR_TAXI_ROUTE DROP COLUMN LOGNITUDE;
/******************8-nov-2011******************/
 CREATE TABLE CIR_INCT_SLAB_HDR
( COMP_CODE     VARCHAR2(8)                NOT NULL,
  INCT_SLAB_ID  NUMBER(8)                  NOT NULL,
  INCT_BASE     VARCHAR2(1)                NOT NULL,
  INCT_TYPE     VARCHAR2(5)                NOT NULL,
  UNIT_CODE     VARCHAR2(8)                NOT NULL,
  BRANCH_CODE   VARCHAR2(8),
  PUBL_CODE     VARCHAR2(8)                NOT NULL,
  AGENCY_TYPE   VARCHAR2(8)                NOT NULL,
  CALC_TYPE     VARCHAR2(1)                DEFAULT 'C',
  REASON        VARCHAR2(8)                NOT NULL,
  EFF_DATE      DATE                       NOT NULL,
  CREATED_BY    VARCHAR2(30),
  CREATED_DT    DATE                       DEFAULT SYSDATE,
  UPDATED_BY    VARCHAR2(30),
  UPDATED_DT    DATE,
  CONSTRAINT CIR_INCT_SLAB_HDR_PK PRIMARY KEY (COMP_CODE,INCT_SLAB_ID));
 
CREATE TABLE CIR_INCT_SLAB_DET
( COMP_CODE        VARCHAR2(8)             NOT NULL,
  INCT_SLAB_ID     NUMBER(8)               NOT NULL,
  INCT_BASE        VARCHAR2(1)             NOT NULL,
  INCT_TYPE        VARCHAR2(5)             NOT NULL,
  UNIT_CODE        VARCHAR2(8)             NOT NULL,
  BRANCH_CODE      VARCHAR2(8),
  PUBL_CODE        VARCHAR2(8)             NOT NULL,
  AGENCY_TYPE      VARCHAR2(8)             NOT NULL,
  CALC_TYPE        VARCHAR2(1)             DEFAULT 'C',
  REASON           VARCHAR2(8)             NOT NULL,
  EFF_DATE         DATE                    NOT NULL,
  EDTN_CODE        VARCHAR2(8)             NOT NULL,
  SUPPLY_TYPE      VARCHAR2(8)             NOT NULL,
  SUPPLY_FROM      NUMBER(10)              NOT NULL,
  SUPPLY_TILL      NUMBER(10)              NOT NULL,
  INCT_AMT         NUMBER(12,2)            NOT NULL,
  CREATED_BY       VARCHAR2(30),
  CREATED_DT       DATE                    DEFAULT SYSDATE,
  UPDATED_BY       VARCHAR2(30),
  UPDATED_DT       DATE,
  INCT_SLABID_DET  NUMBER(10)              NOT NULL,
  CONSTRAINT CIR_INCT_SLAB_DET_PK PRIMARY KEY (COMP_CODE, INCT_SLABID_DET),
  CONSTRAINT CIR_INCT_SLAB_DET_FK FOREIGN KEY (COMP_CODE, INCT_SLAB_ID) 
  REFERENCES CIR_INCT_SLAB_HDR (COMP_CODE,INCT_SLAB_ID) ON DELETE CASCADE);
  CREATE SEQUENCE CIR_INCT_DET_SEQ
  START WITH 24
  MAXVALUE 999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;

  ALTER TABLE CIR_EXPENSES_DETAIL ADD CN_THROUGH VARCHAR2(1) DEFAULT 'D', VALID_DAYS NUMBER;
  ALTER TABLE CIR_INSTALLMENT_MAST ADD(PRO_TYPE VARCHAR2(1),INST_ENDDT DATE,INST_STATUS VARCHAR2(1) DEFAULT 'N',OVER_DUE_DAYS NUMBER(5),RMRK VARCHAR2(100))
  ALTER TABLE CIR_INSTALLMENT_MAST ADD CONSTRAINT CIR_INSTALLMENT_MAST_PK PRIMARY KEY (COMP_CODE,INST_CODE);
  ALTER TABLE CIR_EXPENSES_DETAIL ADD (CN_THROUGH VARCHAR2(1) DEFAULT 'D', VALID_DAYS NUMBER(5));
  ALTER TABLE CIR_EXPENSES_DETAIL_DIS ADD (CN_THROUGH VARCHAR2(1) DEFAULT 'D', VALID_DAYS NUMBER(5));

CREATE TABLE PROCESS_SCHEDULE_MAST
(SCHEDULE_NAME      VARCHAR2(100)   NOT NULL,
 TASK_FREQ          VARCHAR2(1)     DEFAULT 'D',
 START_TIME         VARCHAR2(5)     NOT NULL,
 JAN_SUN            VARCHAR2(1)     DEFAULT 'N',
 FEB_MON            VARCHAR2(1)     DEFAULT 'N',     
 MAR_TUE            VARCHAR2(1)     DEFAULT 'N',
 APR_WED            VARCHAR2(1)     DEFAULT 'N',
 MAY_THU            VARCHAR2(1)     DEFAULT 'N',
 JUN_FRI            VARCHAR2(1)     DEFAULT 'N',
 JUL_SAT            VARCHAR2(1)     DEFAULT 'N',
 AUG_FLAG           VARCHAR2(1)     DEFAULT 'N',
 SEP_FLAG           VARCHAR2(1)     DEFAULT 'N',
 OCT_FLAG           VARCHAR2(1)     DEFAULT 'N',
 NOV_FLAG           VARCHAR2(1)     DEFAULT 'N',
 DEC_FLAG           VARCHAR2(1)     DEFAULT 'N',
 MONTH_OF_DAY       NUMBER(2)       DEFAULT 1,
 CREATED_BY         VARCHAR2(30),
 CREATED_DT         DATE            DEFAULT SYSDATE,
 UPDATED_BY         VARCHAR2(30),
 UPDATED_DT         DATE,
 CONSTRAINT PROCESS_SCHEDULE_MAST_PK PRIMARY KEY (SCHEDULE_NAME)) ;   
 
CREATE TABLE CIR_INSTALLMENT_DET
( COMP_CODE      VARCHAR2(10)   NOT NULL,
  UNIT_CODE      VARCHAR2(10)   NOT NULL,
  INST_CODE      VARCHAR2(10)   NOT NULL,
  AGCD           VARCHAR2(10)   NOT NULL,
  DPCD           VARCHAR2(10)   NOT NULL,
  INST_NO        NUMBER(5)      DEFAULT 1,
  INST_DUEDT     DATE           NOT NULL,   
  INST_AMT       NUMBER(15,2)   NOT NULL,
  INST_CHQNO     VARCHAR2(30),
  INST_CHQDT     DATE,
  INST_CHQAMT    NUMBER(15,2),
  INST_ENDDT     DATE,
  INST_STATUS    VARCHAR2(1),      
  CREATED_BY     VARCHAR2(30),
  CREATED_DT     DATE           DEFAULT SYSDATE,
  UPDATED_BY     VARCHAR2(30),
  UPDATED_DT     DATE,
  CONSTRAINT CIR_INSTALLMENT_DET_PK PRIMARY KEY (COMP_CODE,INST_CODE,INST_NO),
  CONSTRAINT CIR_INSTALLMENT_MAST_FK FOREIGN KEY (COMP_CODE,INST_CODE) 
  REFERENCES CIR_INSTALLMENT_MAST (COMP_CODE,INST_CODE) ON DELETE CASCADE);
/**************************9-NOV-2011***********************/
 ALTER TABLE CIR_EXPENSES_TYPE_MAST ADD EXP_REASON  VARCHAR2(200);
 ALTER TABLE CIR_EXPENSES_TYPE_MAST MODIFY EXP_TYPE_MODE  VARCHAR2(1) DEFAULT 'M';

ALTER TABLE USERPERMISSION ADD (PERMISSION_DESC VARCHAR2(100) ,CREATED_BY VARCHAR2(30),CREATED_DT DATE DEFAULT SYSDATE)
ALTER TABLE USERPERMISSION ADD CONSTRAINT USERPERMISSION_PK PRIMARY KEY(USERID,PERMISSION_DESC);

CREATE TABLE USERPERMISSION_DETAIL
(PERMISSION_DESC    VARCHAR2(100)   NOT NULL,
 FROM_OS_BAL        NUMBER(15),
 TILL_OS_BAL        NUMBER(15),
 NO_OF_TIMES        NUMBER(5),
 PERIOD_FREQ        VARCHAR2(1) DEFAULT 'M',
 ALLOW_FLAG         VARCHAR2(1) DEFAULT 'Y',
 CREATED_BY         VARCHAR2(30),
 CREATED_DT         DATE DEFAULT SYSDATE,
 CONSTRAINT USERPERMISSION_DETAIL_PK PRIMARY KEY(USERID,PERMISSION_DESC),
 CONSTRAINT USERPERMISSION_FK FOREIGN KEY (USERID,PERMISSION_DESC) 
 REFERENCES USERPERMISSION (USERID,PERMISSION_DESC)ON DELETE CASCADE);
/********************************11-nov-2011******************/

CREATE TABLE CIR_INST_BILL_DET
( COMP_CODE         VARCHAR2(10)                NOT NULL,
  UNIT_CODE         VARCHAR2(10)                NOT NULL,
  INST_CODE         VARCHAR2(10)                NOT NULL,
  AGCD              VARCHAR2(10)                NOT NULL,
  DPCD              VARCHAR2(10)                NOT NULL,
  INST_NO           NUMBER(5)                   DEFAULT 1,
  INST_BILLNO       VARCHAR2(30),
  INST_BILLDT       DATE,
  INST_DUE_AMT      NUMBER(15,2),
  PUBL_CODE         VARCHAR2(10),
  CREATED_BY        VARCHAR2(30),
  CREATED_DT        DATE                        DEFAULT SYSDATE,
  UPDATED_BY        VARCHAR2(30),
  UPDATED_DT        DATE,
  CONSTRAINT CIR_INST_BILL_DET_PK PRIMARY KEY (COMP_CODE, INST_CODE, INST_NO,INST_BILLNO),
  CONSTRAINT CIR_INST_BILL_DET_FK FOREIGN KEY (COMP_CODE, INST_CODE,INST_NO) 
  REFERENCES CIR_INSTALLMENT_DET (COMP_CODE,INST_CODE,INST_NO) ON DELETE CASCADE);

  ALTER TABLE CIR_REASON_MST ADD(DOC_TYPE VARCHAR2(3),CHQ_RETURN_FLAG VARCHAR2(1) DEFAULT 'N',NO_OF_TIMES  NUMBER(5),VALID_DAYS NUMBER(5))
  ALTER TABLE CIR_OUTMAST ADD (DISPUTE_FLAG    VARCHAR2(1),DISPUTE_USER_CODE  VARCHAR2(30),DISPUTE_DT  DATE,DISPUTE_RMRK    VARCHAR2(100))
  ALTER TABLE CIR_OUTMAST_TEMP ADD (DISPUTE_FLAG    VARCHAR2(1),DISPUTE_USER_CODE  VARCHAR2(30),DISPUTE_DT  DATE,DISPUTE_RMRK    VARCHAR2(100))
  ALTER TABLE CIR_OUTMAST_DIS_TEMP ADD (DISPUTE_FLAG    VARCHAR2(1),DISPUTE_USER_CODE  VARCHAR2(30),DISPUTE_DT  DATE,DISPUTE_RMRK    VARCHAR2(100))
  ALTER TABLE CIR_OUTMAST_DIS ADD (DISPUTE_FLAG    VARCHAR2(1),DISPUTE_USER_CODE  VARCHAR2(30),DISPUTE_DT  DATE,DISPUTE_RMRK    VARCHAR2(100))

/********************************11-nov-2011******************/
/********************************14-NOV-2011*******************/
  CREATE TABLE CIR_PROCESS_ID
  (PROCESS_ID       NUMBER(30) NOT NULL)

CREATE TABLE CIR_LATE_FEE_MAST
  (COMP_CODE     VARCHAR2(8),
  UNIT_CODE      VARCHAR2(8),
  PUBL_CODE      VARCHAR2(3),
  EDTN_CODE      VARCHAR2(3),
  MON_RATE       NUMBER(10,4)                   NOT NULL,
  TUE_RATE       NUMBER(10,4)                   NOT NULL,
  WED_RATE       NUMBER(10,4)                   NOT NULL,
  THU_RATE       NUMBER(10,4)                   NOT NULL,
  FRI_RATE       NUMBER(10,4)                   NOT NULL,
  SAT_RATE       NUMBER(10,4)                   NOT NULL,
  SUN_RATE       NUMBER(10,4)                   NOT NULL,
  VALID_FROM     DATE,
  FREEZE_FLAG   VARCHAR2(1)        DEFAULT 'N',
  CREATED_BY     VARCHAR2(30),     
  CREATED_DT     DATE                           DEFAULT sysdate,
  UPDATED_BY     VARCHAR2(30),
  UPDATED_DT     DATE,
  CONSTRAINT CIR_LATE_FEE_MAST_PK PRIMARY KEY(COMP_CODE, UNIT_CODE, PUBL_CODE, EDTN_CODE, VALID_FROM));
  
CREATE TABLE LOGIN_ZONE_MAST
(COMP_CODE      VARCHAR2(20),
USER_CODE       VARCHAR2(10),
ZONE_CODE       VARCHAR2(8),
USER_FLAG       VARCHAR2(1)  DEFAULT 'N',
CONSTRAINT LOGIN_ZONE_MAST_PK PRIMARY KEY (COMP_CODE, ZONE_CODE, USER_CODE))

CREATE TABLE LOGIN_REGION_MAST
(COMP_CODE      VARCHAR2(20),
USER_CODE       VARCHAR2(10),
REGION_CODE     VARCHAR2(8),
USER_FLAG       VARCHAR2(1)  DEFAULT 'N',
CONSTRAINT LOGIN_REGION_MAST_PK PRIMARY KEY (COMP_CODE, REGION_CODE, USER_CODE))
/**********************16-nov-2011****************/
create index fa_psub_group_mast_ind on fa_psub_group_mast (comp_code,main_group_code,psub_group_code)
create index fa_ssub_group_mast_ind on fa_ssub_group_mast (comp_code,main_group_code,psub_group_code,ssub_group_code)
create index fa_tsub_group_mast_ind on fa_tsub_group_mast (comp_code,main_group_code,psub_group_code,ssub_group_code,tsub_group_code)
create index fa_acc_mast_ind on fa_acc_mast (comp_code,main_group,psub_group,ssub_group,tsub_group,cdp)
create index fa_vch_mst_ind on fa_vch_mst (comp_code,unit_code,main_group,psub_group,ssub_group,tsub_group,acc_cdp)

/*********************17-nov-2011 Laxman*****************************/
ALTER TABLE CIR_UNSOLD_RETURN_CONTROL ADD ZONE_CODE VARCHAR2(20);
ALTER TABLE CIR_UNSOLD_DTL_DIS ADD(RETURN_PER NUMBER(5), DAMAGE NUMBER(8),APR_DAMAGE NUMBER(8),
VAR_SHORT_RECPT NUMBER(8), VAR_LATE_RECPT NUMBER(8), VAR_BNR NUMBER(8), VAR_UNSOLD NUMBER(8),VAR_DAMAGE NUMBER(8),
VAR_USERID  VARCHAR2(10), VAR_DT DATE,SUP_AGCD   VARCHAR2(8),SUP_DPCD   VARCHAR2(8));
ALTER TABLE CIR_UNSOLD_HDR_DIS ADD(VAR_USERID  VARCHAR2(10), VAR_DT DATE,SUP_AGCD   VARCHAR2(8),SUP_DPCD   VARCHAR2(8));

CREATE INDEX IDX_TEMP_COL_INS ON TEMP_COL_INS(session_id)


/***************************************** 18-nov-2011 Neha*******************************************************/
CREATE TABLE CIR_EDTN_SUPL_MAST
( COMP_CODE      VARCHAR2(8)               NOT NULL,
  UNIT_CODE      VARCHAR2(8)               NOT NULL,
  PUBL_CODE      VARCHAR2(8)               NOT NULL,
  MAIN_EDTN      VARCHAR2(8)               NOT NULL,
  EDTN_CODE      VARCHAR2(8)               NOT NULL,
  SUPL_NAME_SUN  VARCHAR2(100),
  SUPL_NAME_MON  VARCHAR2(100),
  SUPL_NAME_TUE  VARCHAR2(100),
  SUPL_NAME_WED  VARCHAR2(100),
  SUPL_NAME_THU  VARCHAR2(100),
  SUPL_NAME_FRI  VARCHAR2(100),
  SUPL_NAME_SAT  VARCHAR2(100),
  VALID_FROM     DATE                      NOT NULL,
  CREATED_BY     VARCHAR2(30),
  CREATED_DATE   DATE                      DEFAULT sysdate,
  UPDATED_BY     VARCHAR2(30),
  UPDATED_DATE   DATE,
  BKUP_SNO       NUMBER(30),
  VALID_TILL     DATE,
  SHOW_ON_PO     VARCHAR2(1)               DEFAULT 'N',
  INSERTION_FEE  NUMBER(12,2),
  SUN_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  MON_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  TUE_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  WED_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  THU_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  FRI_ALLOW      VARCHAR2(1)               DEFAULT 'N',
  SAT_ALLOW      VARCHAR2(1)               DEFAULT 'N')
/********************19-nov-2011***************************************/
ALTER TABLE CIR_AGMAST_DIS ADD SUP_BRANCH_CODE  VARCHAR2(8), SUP_STATE_CODE VARCHAR2(8);
ALTER TABLE CIR_AGMAST ADD SUP_BRANCH_CODE  VARCHAR2(8), SUP_STATE_CODE VARCHAR2(8);
ALTER TABLE CIR_PUBL_MAST ADD PUBLISHER  VARCHAR2(50);

/***************************24-nov-2011***********0005749**************/
ALTER TABLE PREFERRENCES ADD (CIR_AUTO_APPROVAL_UNSOLD  VARCHAR2(1) DEFAULT 'N',CIR_AUTO_PHYSICAL_UNSOLD  VARCHAR2(1) DEFAULT 'N')
ALTER TABLE CIR_UNSOLD_HDR ADD(UPDATE_BY    VARCHAR2(30),UPDATE_DT  DATE)
ALTER TABLE CIR_UNSOLD_HDR_DIS ADD(UPDATE_BY    VARCHAR2(30),UPDATE_DT  DATE)
ALTER TABLE CIR_UNSOLD_DTL ADD(UPDATE_BY    VARCHAR2(30),UPDATE_DT  DATE)
ALTER TABLE CIR_UNSOLD_DTL_DIS ADD(UPDATE_BY    VARCHAR2(30),UPDATE_DT  DATE)
ALTER TABLE PREFERRENCES ADD(CIR_UNSOLD_INCLUDE_INCT    VARCHAR2(1)   DEFAULT 'N',
  CIR_UNSOLD_INCLUDE_INSFEE  VARCHAR2(1)   DEFAULT 'N',
  CIR_UNSOLD_ON_RECEIVED_DT  VARCHAR2(1)   DEFAULT 'S')

/***************************29-nov-2011**********mimoh***************/
alter table preferrences add AGENCY_UNBLOCK_APPROVAL VARCHAR2(1)

alter table preferrences add UNBLOCK_APPROVAL_OUTSIDE_LIMIT VARCHAR2(1)

alter table CIR_SUSPEND_TRAN add AGENCY_UNBLOCK_APPROVAL VARCHAR2(1)

alter table CIR_SUSPEND_TRAN add AGENCY_UNBLOCK_TYPE VARCHAR2(50)



/***************************29-nov-2011**********mimoh***************/

/***************************01-dec-2011**********neha***************/
ALTER TABLE cir_agmast_DIS ADD ROC_NO VARCHAR2(20)
ALTER TABLE cir_agmast ADD ROC_NO VARCHAR2(20)

ALTER TABLE CIR_AGMAST ADD ACCOUNT_AGCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST ADD ACCOUNT_DPCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST_DIS ADD ACCOUNT_AGCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST_DIS ADD ACCOUNT_DPCD VARCHAR2(8)


/***************************01-dec-2011**********neha***************/


CREATE TABLE CIR_UNSOLD_APR_PERMISSION
(
  COMP_CODE          VARCHAR2(8 BYTE)           NOT NULL,
  BRANCH_CODE        VARCHAR2(8 BYTE)           NOT NULL,
  USER_ID            VARCHAR2(20 BYTE)          NOT NULL,
  OVERRIDE_BACKDAYS  VARCHAR2(1 BYTE)           DEFAULT 'N',
  APPROVAL_PER       NUMBER(10)                 NOT NULL,
  CREATED_BY         VARCHAR2(30 BYTE),
  CREATED_DT         DATE                       DEFAULT sysdate,
  UPDATED_BY         VARCHAR2(30 BYTE),
  UPDATED_DT         DATE,
  INSERT_ID          NUMBER(8)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;



ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD (
  CONSTRAINT CIR_UNSOLD_APR_PERMISSION_PK
 PRIMARY KEY
 (COMP_CODE, BRANCH_CODE, USER_ID)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));


create table tv_leave_balance
(EMP_CODE varchar2(20),
BASIC_CL varchar2(20),
BASIC_EL varchar2(20),
BASIC_SL varchar2(20),
BASIC_ML varchar2(20),
BAL_CL varchar2(20),
BAL_EL varchar2(20),
BAL_SL varchar2(20),
BAL_ML varchar2(20),
APPROVED_BY      VARCHAR2(50 BYTE),
APPROVED_DATE    DATE,
APPROVED_REMARK  VARCHAR2(100 BYTE),
APPROVED_STATUS  VARCHAR2(10 BYTE),
INS_USER         VARCHAR2(50 BYTE)            NOT NULL,
INS_DATE         DATE                         DEFAULT sysdate,
UPD_BY           VARCHAR2(50 BYTE),
UPD_DATE         DATE

)

ALTER TABLE CIR_AGMAST ADD ACCOUNT_AGCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST ADD ACCOUNT_DPCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST_DIS ADD ACCOUNT_AGCD VARCHAR2(8)

ALTER TABLE CIR_AGMAST_DIS ADD ACCOUNT_DPCD VARCHAR2(8)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD PRINTING_CENTER VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD REGION VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD ZONE VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD PUBL VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD EDTN VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD SUB_EDTN VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD FREQUENCY VARCHAR2(10)

ALTER TABLE CIR_UNSOLD_APR_PERMISSION ADD UNS_APR_DAYS NUMBER(10)

alter table cir_ledger_report add CITY_CODE VARCHAR2(10)

ALTER TABLE TV_TRA_AENCY_MAST
 ADD (REF_ID  NUMBER);
