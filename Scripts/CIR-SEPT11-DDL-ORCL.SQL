/*************************prachi 13/09/2011    4691*************************************************/

exec add_col_in_table 'cir_rcphdr', 'TRF_NOTE_TYPE', 'varchar2(1)', 'C'
exec add_col_in_table 'cir_rcphdr_dis', 'TRF_NOTE_TYPE', 'varchar2(1)', 'C'
exec add_col_in_table 'cir_rcphdr_temp', 'TRF_NOTE_TYPE', 'varchar2(1)', 'C'
exec add_col_in_table 'cir_rcphdr_dis_temp', 'TRF_NOTE_TYPE', 'varchar2(1)', 'C'

/*************************prachi 13/09/2011   4691*************************************************/

/****************************issue no. 4653 21/9/11***************************************/

CREATE TABLE PREFERRENCES
(
  "comp_code"               VARCHAR2(8 BYTE)    NOT NULL,
  "userid"                  VARCHAR2(8 BYTE)    NOT NULL,
  "rate_gr_code"            VARCHAR2(8 BYTE),
  "creation_datetime"       DATE,
  "autogenerated"           VARCHAR2(2 BYTE),
  "currency_code"           VARCHAR2(50 BYTE),
  "date_format"             VARCHAR2(50 BYTE),
  "No_of_Decimal"           INTEGER,
  "Allowed_old_date"        VARCHAR2(1 BYTE),
  "uom_code"                VARCHAR2(8 BYTE),
  "solo"                    VARCHAR2(12 BYTE),
  "breakup"                 VARCHAR2(2 BYTE),
  "blackwhitecode"          VARCHAR2(8 BYTE),
  "rostatus"                VARCHAR2(2 BYTE),
  "File_name"               VARCHAR2(2 BYTE),
  "Tfn"                     VARCHAR2(8 BYTE),
  "Insert_breakup"          VARCHAR2(2 BYTE),
  "Premium_type"            VARCHAR2(8 BYTE),
  "Deal_type"               VARCHAR2(2 BYTE),
  "prefix"                  VARCHAR2(5 BYTE),
  "suffix"                  VARCHAR2(5 BYTE),
  "financestatus"           CHAR(2 BYTE),
  "voucherst"               VARCHAR2(30 BYTE),
  "Ad_category"             VARCHAR2(100 BYTE),
  "Ro_datetime"             VARCHAR2(8 BYTE),
  "Uom_text"                VARCHAR2(50 BYTE),
  "Space_area"              VARCHAR2(50 BYTE),
  "Vat"                     VARCHAR2(50 BYTE),
  "Booking_status"          VARCHAR2(25 BYTE),
  "Cio_id"                  VARCHAR2(8 BYTE),
  "Receipt_no"              VARCHAR2(50 BYTE),
  HOUSEKEEPING              VARCHAR2(50 BYTE),
  "Bgcolor_publication"     VARCHAR2(10 BYTE),
  "chkfor_valid_pubdates"   VARCHAR2(10 BYTE),
  "Agency_ratecode"         VARCHAR2(25 BYTE),
  "audit"                   VARCHAR2(8 BYTE),
  "book_insert_date"        VARCHAR2(8 BYTE),
  "agencycomm"              VARCHAR2(8 BYTE),
  "rate_audit"              VARCHAR2(8 BYTE),
  "bill_audit"              VARCHAR2(8 BYTE),
  "billtype"                VARCHAR2(8 BYTE),
  "invoice_no"              VARCHAR2(8 BYTE),
  "copy_booking"            VARCHAR2(8 BYTE),
  RATE_COMPANY_AGENCY       VARCHAR2(8 BYTE),
  ADDITIONAL_AGENCY_COMM    VARCHAR2(8 BYTE),
  AGENCY_RETAINER_COMM      VARCHAR2(8 BYTE),
  SUBEDITIONRATE            VARCHAR2(8 BYTE),
  CLS_BILLTYPE              VARCHAR2(50 BYTE),
  DIS_BILLTYPE              VARCHAR2(50 BYTE),
  DISCOUNT_ALLOW            VARCHAR2(50 BYTE),
  BILLING_FORMAT            VARCHAR2(50 BYTE),
  RATE_CHECK                VARCHAR2(50 BYTE),
  ALL_PACKAGE               VARCHAR2(50 BYTE),
  DAYRATE                   VARCHAR2(10 BYTE),
  RECORDS_ON_PAGE           VARCHAR2(100 BYTE)  DEFAULT 20,
  RECORDS_ON_PRINT          VARCHAR2(100 BYTE)  DEFAULT 20,
  HEADER_ON_PAGE            VARCHAR2(100 BYTE),
  SCHEME_TYPE               VARCHAR2(10 BYTE),
  DISP_CLSBILL              VARCHAR2(50 BYTE),
  RECEIPT_FORMAT            VARCHAR2(50 BYTE),
  CASH_RECEIPT_BILL         VARCHAR2(10 BYTE),
  BILL_ORDERWSLAST          VARCHAR2(50 BYTE),
  FLOOR_CHK                 VARCHAR2(50 BYTE),
  UNSOLD_ENTRY_FLAG         VARCHAR2(1 BYTE),
  SUPPLY_STOP_PERCENTAGE    NUMBER(5),
  ROKEYCHECK                VARCHAR2(1 BYTE),
  AGENCYCOMM_SEQ_COM        VARCHAR2(1 BYTE),
  CREDIT_RECIPT             VARCHAR2(1 BYTE),
  DISP_CASHBILL             VARCHAR2(8 BYTE),
  CLA_CASHBILL              VARCHAR2(8 BYTE),
  RATE_AUDIT_PREF           VARCHAR2(25 BYTE),
  BARCODING_ALLOWED         VARCHAR2(8 BYTE),
  FMG_BILL_DIS              VARCHAR2(25 BYTE),
  BILL_DISP_CASHBILL        VARCHAR2(8 BYTE),
  BILL_CLA_CASHBILL         VARCHAR2(8 BYTE),
  BACKDATERECEIPT           VARCHAR2(1 BYTE),
  DOCKIT_BOOKING            VARCHAR2(1 BYTE),
  ROWISE_CASHBOOKING        VARCHAR2(50 BYTE),
  CUTOFFTIME                VARCHAR2(5 BYTE),
  APPROVAL                  VARCHAR2(8 BYTE),
  BACK_DAYS                 NUMBER(3),
  CASH_DISCOUNT             NUMBER,
  CASH_DISCOUNTTYPE         VARCHAR2(1 BYTE),
  SEPRATE_CASHIER           VARCHAR2(5 BYTE),
  CIR_MANY_TIME_POSTING     VARCHAR2(1 BYTE)    DEFAULT 'N',
  CIR_BACKDAYS_POSTING      NUMBER(5),
  CIR_MAX_RETURN_ALLOW      NUMBER(5),
  CIR_RETURN_LIMIT_ALLOW    VARCHAR2(1 BYTE)    DEFAULT 'N',
  CIR_NO_OF_CHQBOUNCE       NUMBER(3),
  CIR_DAYS_CHQBOUNCE        NUMBER(5),
  CIR_RETURN_DAYS           NUMBER(5),
  CIR_SUP_ORDER_LIMIT       NUMBER(5),
  DISP_BILLING_CRITERIA     VARCHAR2(1 BYTE)    DEFAULT 'P',
  CLSD_BILLING_CRITERIA     VARCHAR2(1 BYTE)    DEFAULT 'P',
  MAX_PUBLISHDAYS           NUMBER,
  WORKING_STATUS            VARCHAR2(50 BYTE),
  MAINTE_DESC               VARCHAR2(100 BYTE),
  LOCK_RECORD_DATE          DATE,
  BILLNO_PERIODICITY        VARCHAR2(15 BYTE),
  SPECIALDISC_TRANS_EDIT    VARCHAR2(5 BYTE),
  SHARING_TRANS             VARCHAR2(5 BYTE),
  MULTIPACKAGE_SEL_TRANS    VARCHAR2(5 BYTE),
  SCHEME_MINWORD            VARCHAR2(1 BYTE),
  TRADE_SPLCHARGE           VARCHAR2(1 BYTE),
  RATE_AUTHORIZATION        VARCHAR2(1 BYTE),
  F2_RECORD                 NUMBER,
  PUBLISHAD_EDIT_RATEAUDIT  VARCHAR2(1 BYTE),
  BINDREVENUE_CENTER        VARCHAR2(1 BYTE),
  FA_LEDGER_ALLOW           VARCHAR2(1 BYTE),
  CLEARANCE_TYPE_ALLOW      VARCHAR2(1 BYTE)    DEFAULT 'N',
  REPEAT_DAY_TYPE           VARCHAR2(20 BYTE),
  PREMIUM_EDIT              VARCHAR2(1 BYTE),
  BILL_GENERATION_PRIOR     VARCHAR2(50 BYTE),
  PUBLICATION_HO            VARCHAR2(50 BYTE),
  SPLDISC_ALLOWPREM         VARCHAR2(1 BYTE),
  AGENCY_REQUIRED           VARCHAR2(5 BYTE),
  REGION_REQUIRED           VARCHAR2(5 BYTE),
  BILL_SCHEME               VARCHAR2(50 BYTE),
  ALLOWED_PDC_DAYS_RECEIPT  NUMBER(5),
  AD_TYPE_MANUL_BILL        VARCHAR2(25 BYTE),
  OUTSTANDING_AMT_CRITERIA  VARCHAR2(5 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


/****************************issue no. 4653 21/9/11***************************************/
/************prachi 4840*************/

CREATE OR REPLACE procedure cir_billing_agency_bind_p (
    pcompcode       in varchar2,
    punit           in varchar2,
    pdateformat     in varchar2,
    pextra1         in varchar2,
    pextra2         in varchar2,    
    p_accounts      out Cur_Type_New1.cursor_type) as
Begin
    if upper(pextra2)='D' then
        open p_accounts for
            select cir_agmast_dis.*,cir_get_area(cir_agmast_dis.comp_code,cir_agmast_dis.area_code) "AREA_NAME",cir_get_city(cir_agmast_dis.comp_code,cir_agmast_dis.city_code) "CITY_NAME" from cir_agmast_dis 
                where comp_code = pcompcode and unit    = punit and
                        agcd    = bill_agcd and dpcd    = bill_dpcd and
                        ((upper(ag_name) like upper(pextra1||'%')) or (pextra1 is null))
                           order by cir_agmast_dis.ag_name;
    else
        open p_accounts for
            select cir_agmast.*,cir_get_area(cir_agmast.comp_code,cir_agmast.area_code) "AREA_NAME",cir_get_city(cir_agmast.comp_code,cir_agmast.city_code) "CITY_NAME" from cir_agmast 
                where comp_code = pcompcode and unit = punit and
                      agcd    = bill_agcd and dpcd    = bill_dpcd and
                        ((upper(ag_name) like upper(pextra1||'%')) or (pextra1 is null))
                           order by cir_agmast.ag_name;
    end if;

End cir_billing_agency_bind_p;

/********************prachi 4840******************/

/***************prachi 4992 27-sept***************/
alter table CIR_SUPPLY modify LBL_PRINTNO NUMBER(10,2)


/************prachi 4992 27-sept *****************/
/*********prachi for supply subagency flag in agency master****************/
ALTER TABLE CIR_AGMAST_DIS ADD SUPPLY_SUBAGENCY VARCHAR2(1) DEFAULT 'N'

ALTER TABLE CIR_AGMAST ADD SUPPLY_SUBAGENCY VARCHAR2(1) DEFAULT 'N'

/*********prachi for supply subagency flag in agency master****************/

***************mimoh 18/oct/2011******start**********0005354******************

ALTER TABLE HT18JULY.CIR_RACE_MAST
 DROP PRIMARY KEY CASCADE;
DROP TABLE HT18JULY.CIR_RACE_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_RACE_MAST
(
  RACE_CODE   VARCHAR2(10 BYTE),
  RACE_DESC   VARCHAR2(30 BYTE),
  CREATED_BY  VARCHAR2(30 BYTE),
  CREATED_DT  DATE                              DEFAULT sysdate,
  UPDATED_BY  VARCHAR2(30 BYTE),
  UPDATED_DT  DATE
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX HT18JULY.CIR_RACE_MAST_PK ON HT18JULY.CIR_RACE_MAST
(RACE_CODE)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE HT18JULY.CIR_RACE_MAST ADD (
  CONSTRAINT CIR_RACE_MAST_PK
 PRIMARY KEY
 (RACE_CODE)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));


***************mimoh 18/oct/2011******end**********0005354******************


///////////********************* ISSUE NO 0005363********************************////////////////

ALTER TABLE HT18JULY.CIR_HOLIDAY_MAST
 DROP PRIMARY KEY CASCADE;
DROP TABLE HT18JULY.CIR_HOLIDAY_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_HOLIDAY_MAST
(
  COMP_CODE      VARCHAR2(8 BYTE),
  UNIT           VARCHAR2(8 BYTE),
  H_PUBL         VARCHAR2(3 BYTE),
  H_NAME         VARCHAR2(100 BYTE),
  H_DATE         DATE,
  USERID         VARCHAR2(10 BYTE),
  CREATION_DATE  DATE                           DEFAULT sysdate,
  FREEZE_FLAG    VARCHAR2(1 BYTE)               DEFAULT 'N',
  H_MAIN_EDTN    VARCHAR2(3 BYTE),
  H_EDTN         VARCHAR2(3 BYTE),
  DIST_CODE      VARCHAR2(8 BYTE),
  STATE_CODE     VARCHAR2(8 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX HT18JULY.PK_CIR_HOLIDAY_MAST ON HT18JULY.CIR_HOLIDAY_MAST
(COMP_CODE, UNIT, H_PUBL, H_DATE)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE HT18JULY.CIR_HOLIDAY_MAST ADD (
  CONSTRAINT PK_CIR_HOLIDAY_MAST
 PRIMARY KEY
 (COMP_CODE, UNIT, H_PUBL, H_DATE)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));


////////////////*******************************END 0005363***********************///////////////




////////////////***************ISSUE NO. 0005358 **************************////////////////////

ALTER TABLE HT18JULY.CIR_EXECUTIVE_MAST
 DROP PRIMARY KEY CASCADE;
DROP TABLE HT18JULY.CIR_EXECUTIVE_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_EXECUTIVE_MAST
(
  COMP_CODE         VARCHAR2(8 BYTE),
  EXECUTIVE_CODE    VARCHAR2(8 BYTE),
  EXECUTIVE_DESC    VARCHAR2(100 BYTE)          NOT NULL,
  EXEC_DESIGNATION  VARCHAR2(50 BYTE),
  EXEC_ADDR1        VARCHAR2(100 BYTE),
  EXEC_ADDR2        VARCHAR2(100 BYTE),
  AREA_CODE         VARCHAR2(8 BYTE),
  PIN_CODE          VARCHAR2(6 BYTE),
  PHONE_NO1         VARCHAR2(20 BYTE),
  PHONE_NO2         VARCHAR2(20 BYTE),
  MOBILE_NO         VARCHAR2(20 BYTE),
  FAX_NO            VARCHAR2(20 BYTE),
  EMAIL_ID          VARCHAR2(100 BYTE),
  HR_CODE           VARCHAR2(10 BYTE),
  CREATION_DATE     DATE                        DEFAULT sysdate,
  FREEZE_FLAG       VARCHAR2(1 BYTE)            DEFAULT 'N',
  UNIT_CODE         VARCHAR2(8 BYTE),
  CITY_CODE         VARCHAR2(8 BYTE),
  DIST_CODE         VARCHAR2(8 BYTE),
  STATE_CODE        VARCHAR2(8 BYTE),
  COUNTRY_CODE      VARCHAR2(8 BYTE),
  USERID            VARCHAR2(10 BYTE),
  EXEC_ONAME        VARCHAR2(100 BYTE),
  TALU_CODE         VARCHAR2(8 BYTE),
  DEPT_NAME         VARCHAR2(30 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX HT18JULY.PK_CIR_EXECUTIVE_MAST ON HT18JULY.CIR_EXECUTIVE_MAST
(COMP_CODE, EXECUTIVE_CODE)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE HT18JULY.CIR_EXECUTIVE_MAST ADD (
  CONSTRAINT PK_CIR_EXECUTIVE_MAST
 PRIMARY KEY
 (COMP_CODE, EXECUTIVE_CODE)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));




///////////////////********************** END**  0005358 *************************//////////////////////

/////////////////************************ISSUE NO. 0005359 *********************////////////////////////

ALTER TABLE HT18JULY.CIR_TRANSPORTER_MAST
 DROP PRIMARY KEY CASCADE;
DROP TABLE HT18JULY.CIR_TRANSPORTER_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_TRANSPORTER_MAST
(
  COMP_CODE             VARCHAR2(8 BYTE),
  TRANSPORTER_CODE      VARCHAR2(8 BYTE),
  TRANSPORTER_NAME      VARCHAR2(50 BYTE)       NOT NULL,
  TRANSPORTER_OTH_NAME  VARCHAR2(60 BYTE),
  ADDR1                 VARCHAR2(35 BYTE),
  ADDR2                 VARCHAR2(35 BYTE),
  CITY_CODE             VARCHAR2(8 BYTE),
  DISTRICT_CODE         VARCHAR2(8 BYTE),
  STATE_CODE            VARCHAR2(8 BYTE),
  PHONE_NO              VARCHAR2(20 BYTE),
  MOBILE_NO             VARCHAR2(20 BYTE),
  FREEZZE_FLAG          VARCHAR2(1 BYTE)        DEFAULT 'N',
  CREATION_DATE         DATE                    DEFAULT sysdate,
  USERID                VARCHAR2(10 BYTE),
  PINCODE               NUMBER(10),
  PHONE_NO2             VARCHAR2(20 BYTE),
  FAX_NO1               VARCHAR2(20 BYTE),
  FAX_NO2               VARCHAR2(20 BYTE),
  NEW_IC_NO             VARCHAR2(20 BYTE),
  OLD_IC_NO             VARCHAR2(20 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX HT18JULY.PK_CIR_TRANSPORTER_MAST ON HT18JULY.CIR_TRANSPORTER_MAST
(COMP_CODE, TRANSPORTER_CODE)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE HT18JULY.CIR_TRANSPORTER_MAST ADD (
  CONSTRAINT PK_CIR_TRANSPORTER_MAST
 PRIMARY KEY
 (COMP_CODE, TRANSPORTER_CODE)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));



////////////////*********************END****////////////////////////////////////////////////////
//////////////4969
ALTER TABLE CIR_ROUTE_TAXI_MAST  modify  ACT_DIST NUMERIC(5)
///////////////////////////

**********mimoh 24oct2011***********************0005364**********************************start
ALTER TABLE HT18JULY.CIR_OVERDUE_MAST
 DROP PRIMARY KEY CASCADE;
DROP TABLE HT18JULY.CIR_OVERDUE_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_OVERDUE_MAST
(
  COMP_CODE     VARCHAR2(8 BYTE)                NOT NULL,
  BILL_CYCLE    VARCHAR2(1 BYTE)                NOT NULL,
  PUBL_CODE     VARCHAR2(8 BYTE)                NOT NULL,
  CREDIT_DAYS   NUMBER(8)                       NOT NULL,
  CREDIT_LIMIT  NUMBER(12)                      NOT NULL,
  CREATED_BY    VARCHAR2(30 BYTE),
  CREATED_DT    DATE                            DEFAULT SYSDATE,
  UPDATED_BY    VARCHAR2(30 BYTE),
  UPDATED_DT    DATE,
  BKUP_SNO      NUMBER(30)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX HT18JULY.CIR_OVERDUE_MAST_PK ON HT18JULY.CIR_OVERDUE_MAST
(COMP_CODE, BILL_CYCLE, PUBL_CODE)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE UNIQUE INDEX HT18JULY.CIR_OVERDUE_MAST_UK ON HT18JULY.CIR_OVERDUE_MAST
(BKUP_SNO)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE HT18JULY.CIR_OVERDUE_MAST ADD (
  CONSTRAINT CIR_OVERDUE_MAST_PK
 PRIMARY KEY
 (COMP_CODE, BILL_CYCLE, PUBL_CODE)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ),
  CONSTRAINT CIR_OVERDUE_MAST_UK
 UNIQUE (BKUP_SNO)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));
**********mimoh 24oct2011***********************0005364**********************************end


/////////////////////issue no-4676////////////////////////
/////////////table of installment master issue no-4676/////////////////
DROP TABLE HT18JULY.CIR_INSTALLMENT_MAST CASCADE CONSTRAINTS;

CREATE TABLE HT18JULY.CIR_INSTALLMENT_MAST
(
  COMP_CODE    VARCHAR2(10 BYTE)                NOT NULL,
  UNIT_CODE    VARCHAR2(10 BYTE)                NOT NULL,
  INST_CODE    VARCHAR2(10 BYTE)                NOT NULL,
  INST_DATE    DATE                             NOT NULL,
  AGCD         VARCHAR2(10 BYTE)                NOT NULL,
  DPCD         VARCHAR2(10 BYTE)                NOT NULL,
  INST_STDT    DATE                             NOT NULL,
  NO_OF_INST   NUMBER(5)                        NOT NULL,
  INST_AMT     NUMBER(15,2)                     NOT NULL,
  TOT_INSTAMT  NUMBER(15,2)                     NOT NULL,
  INST_FREQ    VARCHAR2(1 BYTE)                 NOT NULL,
  PAYMODE      VARCHAR2(10 BYTE),
  ACHD         VARCHAR2(10 BYTE)                NOT NULL,
  CREATED_BY   VARCHAR2(30 BYTE),
  CREATED_DT   DATE                             DEFAULT SYSDATE,
  UPDATED_BY   VARCHAR2(30 BYTE),
  UPDATED_DT   DATE
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

///////////////end of issue 4676//////////////////